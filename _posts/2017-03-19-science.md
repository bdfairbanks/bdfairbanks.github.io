---
title:  "Using the Scientific Method's Experimental Procedure to Refine Test Creation"
---
<p class="article_para"> 
One of the most valuble tools a programer has in thier toolkit is <a href="https://en.wikipedia.org/wiki/Unit_testing" target="_blank">unit testing.</a> Unit tests consist of taking specific, important, high traffic portions of your program and running them in isolation.  This allows you to crystalize exactly what this section of your program does.  Ruby has a testing tool called <a href="https://en.wikipedia.org/wiki/RSpec" target="_blank">RSpec,</a> which I am most familiar with, but the basic idea can be transfered between languages. RSpec tests look like this:
</p>

<script src="https://gist.github.com/bdfairbanks/2a6ec8e74a47c21de3a44deabd15e844.js"></script>

<p class="article_para">
Like looking at any new subset of coding, getting a handle on what this code does is a bit of a challenge.  However when noteaded properly, RSpec is at least chunked up into sections with labels that have a finite amount of jargon.  Setup, Exercise, Verify and Teardown are reasonably understandable, Setup creates the enviornment that the method being tested needs to run, Exercise runs the method that is the crux of the test, Verify compares what was produced to a set value,(basically what you expected to be produced) and teardown returns the enviorment to the state it was pre Setup.
</p>

<p>
This is very similar to the experimental procedure employed by almost all scientifc fields.  Experimental science is streightforward on paper; Starting with a question you explore the available evidence related to that question, form a hypothesis related to that question, run an experiment in an attempt to prove or disprove the stated hypothisis, analyse the data that was generated by the experiment to see whether it supports or challenges your stated Hypothisis, and finally comunitcate the results of your experiment.</p>

<p>  Applying this thinking to RSpec testing produces a clarifying and codifying effect.  The question is almost always 'how does this section of code work?', which is a very good question to ask.  Gathering data is a relatively simple process, understanding the methods invoked produces a pretty acurate timeline of what is happening within the function.  Now comes forming the hypothisis, which will be something along the lines of "I think given this kind of input this program will produce this result."  This portion of the Scientific is perhaps the most important, as having a more formal and deliberate outlook towards what questions you are asking though RSpec testing produces a more full understanding of the portion of the program you are testing.  
</p>

<p>
Now comes the testing of that hypothisis, basically the actually RSpecing.  To begin with, during the setup phase you want to limmit the amount of variables that can influence your experiment over numerous repitions.  With RSpec this is relatively simple, you create the neccesary enviorment for your method to run and you keep it the same.  If you feel that you should change something in this step it most likely means that this is a seperate test.
</p> 
Exercise is where you will make the changes during repition. The Exercise step can be thought of as the acutal moving parts of the test, wherein input is declared and the method is run.  Ensuring that your experiment works with multiple inputs is important, not neccesarily multiple types of input (if your method needs a hash it needs a hash), but with multiple different inputs of the same type. These different inputs should be done over multiple tests, as the input will impact the Verify step dramaticly.
</p>

<p>
The Verify step is where you compare your expected output with your actual output.  In other words you compare what your method produced with what you thought it should have produced back in the Hypothisis phase.  There is nothing wrong with the test failing, in fact it is the primary way to understand your method more fully.  If your experiments always work you either understand your method to perfection or you should be attempting grand experiments.   Finally you should comunicate your results, if you find an error in your program or a way that the method does not work comunicate this to your teammates, if you are working with any.  Sharing this kind of thing is the difference between mistakes being ironed out immediatly and hanging out until rollout, which is a thing no one wants to even think about.  The Teardown step should delete anything that was created or undo anything that was changed, making testing repeatable, as if you have a hypothisis based on the way your program was previously and it no longer is in that state, you have a massive flaw in your thinking.  Also it is always good to pick up your toys after playing with them.
 </p>

<p> 
That's about it!  Through applying the scientific method to RSpec testing you should develop a more robust mindset about testing, create better and more acurate testing, both of which should lead you towards being a better programer.  Happy Testing!
</p>